<h3>БІЗНЕС-ЛОГІКА</h3>
<p>Бізнес-логіка музичного сервісу визначає основні правила та процеси, що керують взаємодією користувачів із системою, доступом до контенту та адміністративними функціями. Вона охоплює процеси від реєстрації користувача до керування контентом та підписками.</p>

<hr>

<h3>1. Авторизація та доступ до системи</h3>
<p>Доступ до функціонала музичного сервісу, зокрема до прослуховування треків, надається виключно після успішної аутентифікації користувача.</p>

<p><strong>Схема процесу реєстрації:</strong></p>
<ol>
    <li>Користувач заповнює реєстраційну форму (логін, пароль, email).</li>
    <li>Система перевіряє унікальність логіна та email.</li>
    <li>У разі успішної перевірки, створюється новий обліковий запис користувача зі статусом "<em>зареєстрований, без підписки</em>".</li>
    <li>Користувач отримує можливість авторизуватися.</li>
</ol>

<p><strong>Схема процесу авторизації:</strong></p>
<ol>
    <li>Користувач вводить логін та пароль.</li>
    <li>Система перевіряє відповідність наданих даних зареєстрованим у базі.</li>
    <li>У разі успішної перевірки, користувачу надається доступ до системи; створюється активна сесія.</li>
    <li>Якщо дані невірні, доступ забороняється, виводиться повідомлення про помилку.</li>
</ol>

<blockquote>
    <p><strong>Правило:</strong> <em>Будь-яка спроба доступу до функцій прослуховування або особистого кабінету без активної сесії авторизації блокується з пропозицією увійти або зареєструватися.</em></p>
</blockquote>

<hr>

<h3>2. Логіка доступу до треків</h3>
<p>Система визначає можливість прослуховування треку на основі статусу авторизації користувача, типу треку та наявності й типу активної підписки.</p>

<p><strong>Схема визначення доступу до треку:</strong></p>
<ol>
    <li>Користувач обирає трек для прослуховування.</li>
    <li>Система перевіряє, чи авторизований користувач:
        <ul>
            <li>Якщо ні: доступ заборонено, пропонується авторизація.</li>
            <li>Якщо так: перехід до наступного кроку.</li>
        </ul>
    </li>
    <li>Система визначає тип треку (<em>безкоштовний, платний рівня А, платний рівня В</em>).
        <ul>
            <li>Якщо трек безкоштовний: доступ дозволено.</li>
            <li>Якщо трек платний: перехід до наступного кроку.</li>
        </ul>
    </li>
    <li>Система перевіряє наявність та тип активної підписки користувача, а також термін її дії:
        <ul>
            <li>Якщо підписка відсутня або неактивна (закінчився термін): доступ заборонено, пропонується оформити підписку, що відповідає рівню треку або вищому.</li>
            <li>Якщо активна <em>Підписка А</em>:
                <ul>
                    <li>Для треків рівня А: доступ дозволено.</li>
                    <li>Для треків рівня В: доступ заборонено, пропонується оформити <em>Підписку В</em>.</li>
                </ul>
            </li>
            <li>Якщо активна <em>Підписка В</em>:
                <ul>
                    <li>Для треків рівня А: доступ дозволено.</li>
                    <li>Для треків рівня В: доступ дозволено.</li>
                </ul>
            </li>
        </ul>
    </li>
</ol>

<blockquote>
    <p><strong>Правило:</strong> <em>Пропозиція оформити підписку повинна спрямовувати користувача на сторінку вибору та оплати відповідного типу підписки.</em></p>
</blockquote>

<hr>

<h3>3. Управління підписками</h3>
<p>Користувачі можуть керувати своїми підписками через особистий кабінет. Підписки мають обмежений термін дії.</p>

<p><strong>Схема оформлення/подовження підписки:</strong></p>
<ol>
    <li>Користувач в особистому кабінеті або через пропозицію системи обирає тип підписки (А або В) та термін її дії.</li>
    <li>Система перенаправляє користувача на сторінку оплати (інтеграція з платіжною системою).</li>
    <li>Користувач здійснює оплату.</li>
    <li>Після отримання підтвердження успішної оплати від платіжної системи:
        <ul>
            <li>Якщо це нова підписка: активується обрана підписка (А або В) для користувача із зазначенням дати початку та закінчення.</li>
            <li>Якщо це подовження існуючої: термін дії поточної підписки подовжується на обраний період.</li>
        </ul>
    </li>
    <li>Інформація про активну підписку та її термін дії відображається в особистому кабінеті користувача.</li>
</ol>

<blockquote>
    <p><strong>Правила:</strong></p>
    <ul>
        <li><em>Підписка В надає доступ до всього контенту, доступного за Підпискою А.</em></li>
        <li><em>Система може надсилати користувачам сповіщення про наближення закінчення терміну дії підписки.</em></li>
        <li><em>При зміні типу підписки (наприклад, з А на В до закінчення терміну А), можливі різні сценарії обробки (зарахування залишку, негайне оновлення тощо), що потребують окремого визначення.</em></li>
    </ul>
</blockquote>

<hr>

<h3>4. Управління контентом (Адмін-панель)</h3>
<p>Адміністратори системи мають повноваження керувати каталогом треків та їхніми атрибутами.</p>

<p><strong>Схема додавання треку:</strong></p>
<ol>
    <li>Адміністратор завантажує аудіофайл треку.</li>
    <li>Адміністратор заповнює метадані треку (назва, виконавець, альбом тощо).</li>
    <li>Адміністратор призначає рівень доступу треку: "<em>Безкоштовний</em>", "<em>Платний рівень А</em>", "<em>Платний рівень В</em>".</li>
    <li>Система зберігає трек та його атрибути в базі даних.</li>
</ol>

<blockquote>
    <p><strong>Правила:</strong></p>
    <ul>
        <li><em>Кожен трек повинен мати чітко визначений рівень доступу.</em></li>
        <li><em>Зміна рівня доступу треку адміністратором негайно впливає на умови його доступності для користувачів.</em></li>
        <li><em>Видалення треку робить його недоступним для прослуховування.</em></li>
    </ul>
</blockquote>

<hr>

<h3>5. Управління користувачами та їхніми підписками (Адмін-панель)</h3>
<p>Адміністратори можуть переглядати інформацію про користувачів та керувати їхніми підписками в ручному режимі за потреби.</p>

<p><strong>Функції адміністратора щодо користувачів:</strong></p>
<ul>
    <li>Перегляд списку користувачів та їхніх даних (статус, тип підписки, термін дії).</li>
    <li>Можливість ручної активації/деактивації підписки для конкретного користувача.</li>
    <li>Можливість зміни терміну дії підписки користувача (наприклад, у рамках акцій або вирішення спірних питань).</li>
    <li>Блокування/розблокування облікових записів користувачів.</li>
</ul>

<blockquote>
    <p><strong>Правило:</strong> <em>Усі дії адміністратора щодо зміни статусу підписок користувачів повинні фіксуватися в системних журналах для забезпечення аудиту та прозорості.</em></p>
</blockquote>